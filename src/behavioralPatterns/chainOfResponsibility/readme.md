**Chain of Responsibility (Цепочка обязанностей)** — это поведенческий паттерн проектирования, который позволяет
передавать запрос по цепочке обработчиков. Каждый обработчик решает, обрабатывать запрос самостоятельно или передать его
следующему по цепочке.

---

### Основная идея:

Запросы последовательно проходят через цепочку обработчиков. Каждый обработчик проверяет, может ли он обработать запрос.
Если нет, он передаёт запрос дальше по цепочке. Это создаёт гибкую архитектуру для обработки запросов разного типа без
жёсткого связывания отправителя и получателя.

---

### Для чего нужен:

1. **Гибкость обработки** — позволяет динамически задавать обработчиков и порядок их вызова.
2. **Избежание жёсткой связанности** — отправитель запроса не знает, кто именно его обработает.
3. **Разделение обязанностей** — каждый обработчик отвечает только за свою часть логики.

---

### Пример из жизни:

Представь ситуацию в службе технической поддержки:

1. Ты звонишь в колл-центр.
2. Оператор первой линии пытается решить твою проблему.
3. Если не получается, он перенаправляет тебя на вторую линию поддержки (специалистов).
4. Если и там не удаётся помочь, запрос передаётся руководителю отдела.

Каждый уровень поддержки — это обработчик в цепочке.

---

### Как это работает:

1. **Отправитель (Client)** — инициирует запрос.
2. **Базовый обработчик (Handler)** — задаёт интерфейс для обработки запроса и ссылку на следующий обработчик в цепочке.
3. **Конкретные обработчики (Concrete Handlers)** — реализуют свою логику обработки. Если обработчик не может обработать
   запрос, он передаёт его следующему обработчику.

---

### Где используется:

1. **Системы логирования** — сообщение передаётся через цепочку логгеров (например, для записи в консоль, файл, или базу
   данных).
2. **Обработка запросов в веб-серверах** — запрос проходит через цепочку middleware (например, аутентификация,
   авторизация, кэширование).
3. **Обработка событий** — например, в UI, где событие (клик, ввод текста) проходит через цепочку обработчиков.
4. **Бизнес-логика** — для проверки условий (например, заявки проходят через цепочку проверок перед одобрением).

---

### Преимущества:

1. **Гибкость настройки цепочки** — можно легко добавить, убрать или переставить обработчики.
2. **Снижение связности** — отправитель и получатели запроса не знают друг о друге.
3. **Разделение обязанностей** — каждый обработчик отвечает только за одну задачу.

---

### Недостатки:

1. **Неопределённость обработки** — запрос может быть не обработан, если ни один из обработчиков не подходит.
2. **Сложность отладки** — из-за динамической цепочки бывает трудно отследить, какой обработчик сработал.
3. **Увеличение количества классов** — каждый обработчик часто реализуется как отдельный класс.

---

### Пример из реальной жизни:

Представь фильтр спама в почтовом сервисе:

1. Сначала проверяется, есть ли отправитель в чёрном списке.
2. Если нет, проверяется, есть ли подозрительные слова в тексте письма.
3. Если и это не обнаружено, письмо отправляется в основной ящик.

Каждая проверка — это обработчик в цепочке.

---

### Отличие от других паттернов:

- В отличие от **Decorator**, где все элементы выполняют одно действие и добавляют функциональность, в **Chain of
  Responsibility** каждый обработчик решает, обрабатывать запрос или передать его дальше.
- В отличие от **Command**, где запросы инкапсулируются, здесь акцент на том, чтобы передать запрос через цепочку
  обработчиков.

---